CREATE TABLE public."QuestionAnswers" (
    "Id" integer NOT NULL,
    "Libelle" text
);
ALTER TABLE public."QuestionAnswers" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."QuestionAnswers_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
CREATE TABLE public."QuestionCategories" (
    "Id" integer NOT NULL,
    "Libelle" text
);
ALTER TABLE public."QuestionCategories" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."QuestionCategories_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
CREATE TABLE public."QuestionPropositions" (
    "Id" integer NOT NULL,
    "Libelle" text,
    "QuestionId" integer NOT NULL
);
ALTER TABLE public."QuestionPropositions" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."QuestionPropositions_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
CREATE TABLE public."Questions" (
    "Id" integer NOT NULL,
    "Libelle" text,
    "QuestionCategorieId" integer NOT NULL,
    "QuestionAnswerId" integer NOT NULL
);
ALTER TABLE public."Questions" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Questions_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);
ALTER TABLE ONLY public."QuestionAnswers"
    ADD CONSTRAINT "PK_QuestionAnswers" PRIMARY KEY ("Id");
ALTER TABLE ONLY public."QuestionCategories"
    ADD CONSTRAINT "PK_QuestionCategories" PRIMARY KEY ("Id");
ALTER TABLE ONLY public."QuestionPropositions"
    ADD CONSTRAINT "PK_QuestionPropositions" PRIMARY KEY ("Id");
ALTER TABLE ONLY public."Questions"
    ADD CONSTRAINT "PK_Questions" PRIMARY KEY ("Id");
ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");
CREATE INDEX "IX_QuestionPropositions_QuestionId" ON public."QuestionPropositions" USING btree ("QuestionId");
CREATE INDEX "IX_Questions_QuestionAnswerId" ON public."Questions" USING btree ("QuestionAnswerId");
CREATE INDEX "IX_Questions_QuestionCategorieId" ON public."Questions" USING btree ("QuestionCategorieId");
ALTER TABLE ONLY public."QuestionPropositions"
    ADD CONSTRAINT "FK_QuestionPropositions_Questions_QuestionId" FOREIGN KEY ("QuestionId") REFERENCES public."Questions"("Id") ON DELETE CASCADE;
ALTER TABLE ONLY public."Questions"
    ADD CONSTRAINT "FK_Questions_QuestionAnswers_QuestionAnswerId" FOREIGN KEY ("QuestionAnswerId") REFERENCES public."QuestionAnswers"("Id") ON DELETE CASCADE;
ALTER TABLE ONLY public."Questions"
    ADD CONSTRAINT "FK_Questions_QuestionCategories_QuestionCategorieId" FOREIGN KEY ("QuestionCategorieId") REFERENCES public."QuestionCategories"("Id") ON DELETE CASCADE;
